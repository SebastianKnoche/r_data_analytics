<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Markus Loecher, Berlin School of Economics and Law" />


<title>Sebastian Knoche on GapMinder Exercises</title>

<script src="GapMinderExercises_files/header-attrs-2.7/header-attrs.js"></script>
<script src="GapMinderExercises_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="GapMinderExercises_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="GapMinderExercises_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="GapMinderExercises_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="GapMinderExercises_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="GapMinderExercises_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="GapMinderExercises_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="GapMinderExercises_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="GapMinderExercises_files/navigation-1.1/tabsets.js"></script>
<link href="GapMinderExercises_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="GapMinderExercises_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-sm-12 col-md-4 col-lg-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-sm-12 col-md-8 col-lg-9">




<div id="header">



<h1 class="title toc-ignore">Sebastian Knoche on GapMinder Exercises</h1>
<h4 class="author">Markus Loecher, Berlin School of Economics and Law</h4>

</div>


<div id="data-manipulation" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Data Manipulation</h1>
<ul>
<li>Add a <code>filter()</code> line after the pipe (<code>%&gt;%</code>) to extract only the observations from the year 1957. Remember that you use <code>==</code> to compare two values.</li>
</ul>
<pre class="r"><code># Filter the gapminder dataset for the year 1957
gapminder %&gt;%
  filter(year == 1957)</code></pre>
<ul>
<li>Filter the <code>gapminder</code> data to retrieve only the observation from China in the year 2002.</li>
</ul>
<pre class="r"><code># Filter for China in 2002
gapminder %&gt;%
  filter(year == 2002, country == &quot;China&quot;)</code></pre>
<pre><code>## # A tibble: 1 x 6
##   country continent  year lifeExp        pop gdpPercap
##   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;      &lt;int&gt;     &lt;dbl&gt;
## 1 China   Asia       2002    72.0 1280400000     3119.</code></pre>
<ul>
<li>Sort the <code>gapminder</code> dataset in ascending order of life expectancy (<code>lifeExp</code>).</li>
<li>Sort the <code>gapminder</code> dataset in descending order of life expectancy.</li>
</ul>
<pre class="r"><code># Sort in ascending order of lifeExp
gapminder %&gt;%
  arrange(lifeExp)</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country      continent  year lifeExp     pop gdpPercap
##    &lt;fct&gt;        &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
##  1 Rwanda       Africa     1992    23.6 7290203      737.
##  2 Afghanistan  Asia       1952    28.8 8425333      779.
##  3 Gambia       Africa     1952    30    284320      485.
##  4 Angola       Africa     1952    30.0 4232095     3521.
##  5 Sierra Leone Africa     1952    30.3 2143249      880.
##  6 Afghanistan  Asia       1957    30.3 9240934      821.
##  7 Cambodia     Asia       1977    31.2 6978607      525.
##  8 Mozambique   Africa     1952    31.3 6446316      469.
##  9 Sierra Leone Africa     1957    31.6 2295678     1004.
## 10 Burkina Faso Africa     1952    32.0 4469979      543.
## # … with 1,694 more rows</code></pre>
<pre class="r"><code># Sort in descending order of lifeExp
gapminder %&gt;%
  arrange(desc(lifeExp))</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country          continent  year lifeExp       pop gdpPercap
##    &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
##  1 Japan            Asia       2007    82.6 127467972    31656.
##  2 Hong Kong, China Asia       2007    82.2   6980412    39725.
##  3 Japan            Asia       2002    82   127065841    28605.
##  4 Iceland          Europe     2007    81.8    301931    36181.
##  5 Switzerland      Europe     2007    81.7   7554661    37506.
##  6 Hong Kong, China Asia       2002    81.5   6762476    30209.
##  7 Australia        Oceania    2007    81.2  20434176    34435.
##  8 Spain            Europe     2007    80.9  40448191    28821.
##  9 Sweden           Europe     2007    80.9   9031088    33860.
## 10 Israel           Asia       2007    80.7   6426679    25523.
## # … with 1,694 more rows</code></pre>
<ul>
<li>Use <code>filter()</code> to extract observations from just the year 1957, then use <code>arrange()</code> to sort in descending order of population (<code>pop</code>).</li>
</ul>
<pre class="r"><code># Filter for the year 1957, then arrange in descending order of population
gapminder %&gt;%
  filter(year == 1957) %&gt;%
  arrange(desc(pop))</code></pre>
<pre><code>## # A tibble: 142 x 6
##    country        continent  year lifeExp       pop gdpPercap
##    &lt;fct&gt;          &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
##  1 China          Asia       1957    50.5 637408000      576.
##  2 India          Asia       1957    40.2 409000000      590.
##  3 United States  Americas   1957    69.5 171984000    14847.
##  4 Japan          Asia       1957    65.5  91563009     4318.
##  5 Indonesia      Asia       1957    39.9  90124000      859.
##  6 Germany        Europe     1957    69.1  71019069    10188.
##  7 Brazil         Americas   1957    53.3  65551171     2487.
##  8 United Kingdom Europe     1957    70.4  51430000    11283.
##  9 Bangladesh     Asia       1957    39.3  51365468      662.
## 10 Italy          Europe     1957    67.8  49182000     6249.
## # … with 132 more rows</code></pre>
<ul>
<li>Use <code>mutate()</code> to change the existing <code>lifeExp</code> column, by multiplying it by 12: <code>12 * lifeExp</code>.</li>
<li>Use <code>mutate()</code> to add a new column, called <code>lifeExpMonths</code>, calculated as <code>12 * lifeExp</code>.</li>
</ul>
<pre class="r"><code># Use mutate to change lifeExp to be in months
gapminder %&gt;%
  mutate(lifeExp = 12 * lifeExp)</code></pre>
<pre><code>## # A tibble: 1,704 x 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    346.  8425333      779.
##  2 Afghanistan Asia       1957    364.  9240934      821.
##  3 Afghanistan Asia       1962    384. 10267083      853.
##  4 Afghanistan Asia       1967    408. 11537966      836.
##  5 Afghanistan Asia       1972    433. 13079460      740.
##  6 Afghanistan Asia       1977    461. 14880372      786.
##  7 Afghanistan Asia       1982    478. 12881816      978.
##  8 Afghanistan Asia       1987    490. 13867957      852.
##  9 Afghanistan Asia       1992    500. 16317921      649.
## 10 Afghanistan Asia       1997    501. 22227415      635.
## # … with 1,694 more rows</code></pre>
<pre class="r"><code># Use mutate to create a new column called lifeExpMonths
gapminder %&gt;%
  mutate(lifeExpMonths = 12 * lifeExp)</code></pre>
<pre><code>## # A tibble: 1,704 x 7
##    country     continent  year lifeExp      pop gdpPercap lifeExpMonths
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;         &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.          346.
##  2 Afghanistan Asia       1957    30.3  9240934      821.          364.
##  3 Afghanistan Asia       1962    32.0 10267083      853.          384.
##  4 Afghanistan Asia       1967    34.0 11537966      836.          408.
##  5 Afghanistan Asia       1972    36.1 13079460      740.          433.
##  6 Afghanistan Asia       1977    38.4 14880372      786.          461.
##  7 Afghanistan Asia       1982    39.9 12881816      978.          478.
##  8 Afghanistan Asia       1987    40.8 13867957      852.          490.
##  9 Afghanistan Asia       1992    41.7 16317921      649.          500.
## 10 Afghanistan Asia       1997    41.8 22227415      635.          501.
## # … with 1,694 more rows</code></pre>
<p>In one sequence of pipes on the <code>gapminder</code> dataset: * <code>filter()</code> for observations from the year 2007, * <code>mutate()</code> to create a column <code>lifeExpMonths</code>, calculated as <code>12 * lifeExp</code>, and * <code>arrange()</code> in descending order of that new column</p>
<pre class="r"><code># Filter, mutate, and arrange the gapminder dataset
gapminder %&gt;%
  filter(year == 2007) %&gt;%
  mutate(lifeExpMonths = 12 * lifeExp) %&gt;%
  arrange(desc(lifeExpMonths))</code></pre>
<pre><code>## # A tibble: 142 x 7
##    country          continent  year lifeExp       pop gdpPercap lifeExpMonths
##    &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;         &lt;dbl&gt;
##  1 Japan            Asia       2007    82.6 127467972    31656.          991.
##  2 Hong Kong, China Asia       2007    82.2   6980412    39725.          986.
##  3 Iceland          Europe     2007    81.8    301931    36181.          981.
##  4 Switzerland      Europe     2007    81.7   7554661    37506.          980.
##  5 Australia        Oceania    2007    81.2  20434176    34435.          975.
##  6 Spain            Europe     2007    80.9  40448191    28821.          971.
##  7 Sweden           Europe     2007    80.9   9031088    33860.          971.
##  8 Israel           Asia       2007    80.7   6426679    25523.          969.
##  9 France           Europe     2007    80.7  61083916    30470.          968.
## 10 Canada           Americas   2007    80.7  33390141    36319.          968.
## # … with 132 more rows</code></pre>
<ul>
<li>Filter <code>gapminder</code> for observations from the year 1952, and assign it to a new dataset <code>gapminder_1952</code> using the assignment operator (<code>&lt;-</code>).</li>
</ul>
<pre class="r"><code># Create gapminder_1952
gapminder_1952 &lt;- gapminder %&gt;%
  filter(year == 1952)</code></pre>
</div>
<div id="data-visualization" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Data Visualization</h1>
<ul>
<li>Change the scatter plot of <code>gapminder_1952</code> so that (<code>pop</code>) is on the x-axis and GDP per capita (<code>gdpPercap</code>) is on the y-axis.</li>
</ul>
<pre class="r"><code># Change to put pop on the x-axis and gdpPercap on the y-axis
ggplot(gapminder_1952, aes(x = pop, y = gdpPercap)) +
  geom_point()</code></pre>
<ul>
<li>Create a scatter plot of <code>gapminder_1952</code> with population (<code>pop</code>) is on the x-axis and life expectancy (<code>lifeExp</code>) on the y-axis.</li>
</ul>
<pre class="r"><code># Create a scatter plot with pop on the x-axis and lifeExp on the y-axis
gapminder_1952 %&gt;%
  ggplot(aes(x = pop, y = lifeExp)) +
  geom_point()</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<ul>
<li>Change the existing scatter plot (code provided) to put the x-axis (representing population) on a log scale.</li>
</ul>
<pre class="r"><code># Change this plot to put the x-axis on a log scale
ggplot(gapminder_1952, aes(x = pop, y = lifeExp)) +
  geom_point() + scale_x_log10()</code></pre>
<ul>
<li>Create a scatter plot with population (<code>pop</code>) on the x-axis and GDP per capita (<code>gdpPercap</code>) on the y-axis. Put both the x- and y- axes on a log scale.</li>
</ul>
<pre class="r"><code># Scatter plot comparing pop and gdpPercap, with both axes on a log scale
gapminder_1952 %&gt;%
  ggplot(aes(x = pop, y = gdpPercap)) +
  geom_point() + scale_x_log10() + scale_y_log10()</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<ul>
<li>Create a scatter plot with population (<code>pop</code>) on the x-axis, life expectancy (<code>lifeExp</code>) on the y-axis, and with continent (<code>continent</code>) represented by the color of the points. Put the x-axis on a log scale.</li>
</ul>
<pre class="r"><code># Scatter plot comparing pop and lifeExp, with color representing continent
gapminder_1952 %&gt;%
  ggplot(aes(x = pop, y = lifeExp, color = continent)) +
  geom_point() + scale_x_log10()</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<ul>
<li>Modify the scatter plot so that the size of the points represents each country<code>s GDP per capita (</code>gdpPercap`).</li>
</ul>
<pre class="r"><code># Add color representing continent
# Add the size aesthetic to represent a country`s gdpPercap
gapminder_1952 %&gt;%
  ggplot(aes(x = pop, y = lifeExp, color = continent, size = gdpPercap)) +
  geom_point() + scale_x_log10()</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<div id="facets" class="section level2" number="2.1">
<h2 number="2.1"><span class="header-section-number">2.1</span> Facets</h2>
<p>Create a scatter plot of gapminder_1952 with the x-axis representing population (<code>pop</code>), the y-axis representing life expectancy (<code>lifeExp</code>), and faceted to have one subplot per continent (<code>continent</code>). Put the x-axis on a log scale.</p>
<pre class="r"><code># Scatter plot comparing pop and lifeExp, faceted by continent
gapminder_1952 %&gt;%
  ggplot(aes(x = pop, y = lifeExp, color = continent, size = gdpPercap)) +
  geom_point() + scale_x_log10() + facet_wrap(~ continent)</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<ul>
<li><p>Put GDP per capita (<code>gdpPercap</code>) on the x-axis and life expectancy (<code>lifeExp</code>) on the y-axis, with continent (<code>continent</code>) represented by color and population (<code>pop</code>) represented by size.</p></li>
<li><p>Put the x-axis on a log scale</p></li>
<li><p>Facet by the <code>year</code> variable</p></li>
</ul>
<pre class="r"><code># Scatter plot comparing gdpPercap and lifeExp, with color representing continent
# and size representing population, faceted by year
gapminder %&gt;%
  ggplot(aes(x = gdpPercap, y = lifeExp, color = continent, size = pop)) +
  geom_point() + scale_x_log10() + facet_wrap(~ year)</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
</div>
<div id="grouping-and-summarizing" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Grouping and summarizing</h1>
<ul>
<li>Use the <code>median()</code> function within a <code>summarize()</code> to find the median life expectancy. Save it into a column called <code>medianLifeExp</code></li>
</ul>
<pre class="r"><code># Summarize to find the median life expectancy
gapminder %&gt;%
  summarize(medianLifeExp = median(lifeExp))</code></pre>
<pre><code>## # A tibble: 1 x 1
##   medianLifeExp
##           &lt;dbl&gt;
## 1          60.7</code></pre>
<ul>
<li>Filter for the year 1957, then use the <code>median()</code> function within a <code>summarize()</code> to calculate the median life expectancy into a column called <code>medianLifeExp</code></li>
</ul>
<pre class="r"><code># Filter for 1957 then summarize the median life expectancy
gapminder %&gt;%
  filter(year == 1957) %&gt;%
  summarize(medianLifeExp = median(lifeExp))</code></pre>
<pre><code>## # A tibble: 1 x 1
##   medianLifeExp
##           &lt;dbl&gt;
## 1          48.4</code></pre>
<ul>
<li>Find the median life expectancy (<code>lifeExp</code>) and maximum GDP per capita (<code>gdpPercap</code>) within each year, saving them into <code>medianLifeExp</code> and <code>maxGdpPercap</code>, respectively.</li>
</ul>
<pre class="r"><code># Find median life expectancy and maximum GDP per capita in each year
gapminder %&gt;%
  group_by(year) %&gt;%
  summarize(medianLifeExp = median(lifeExp),
            maxGdpPercap = max(gdpPercap))</code></pre>
<pre><code>## # A tibble: 12 x 3
##     year medianLifeExp maxGdpPercap
##    &lt;int&gt;         &lt;dbl&gt;        &lt;dbl&gt;
##  1  1952          45.1      108382.
##  2  1957          48.4      113523.
##  3  1962          50.9       95458.
##  4  1967          53.8       80895.
##  5  1972          56.5      109348.
##  6  1977          59.7       59265.
##  7  1982          62.4       33693.
##  8  1987          65.8       31541.
##  9  1992          67.7       34933.
## 10  1997          69.4       41283.
## 11  2002          70.8       44684.
## 12  2007          71.9       49357.</code></pre>
<ul>
<li>Filter the <code>gapminder</code> data for the year 1957. Then find the median life expectancy (<code>lifeExp</code>) and maximum GDP per capita (<code>gdpPercap</code>) <strong>within each continent</strong>, saving them into <code>medianLifeExp</code> and <code>maxGdpPercap</code>, respectively.</li>
</ul>
<pre class="r"><code># Find median life expectancy and maximum GDP per capita in each continent in 1957
gapminder %&gt;%
  filter(year == 1957) %&gt;%
  group_by(continent) %&gt;%
  summarize(medianLifeExp = median(lifeExp),
            maxGdpPercap = max(gdpPercap))</code></pre>
<pre><code>## # A tibble: 5 x 3
##   continent medianLifeExp maxGdpPercap
##   &lt;fct&gt;             &lt;dbl&gt;        &lt;dbl&gt;
## 1 Africa             40.6        5487.
## 2 Americas           56.1       14847.
## 3 Asia               48.3      113523.
## 4 Europe             67.6       17909.
## 5 Oceania            70.3       12247.</code></pre>
<ul>
<li>Find the median life expectancy (<code>lifeExp</code>) and maximum GDP per capita (<code>gdpPercap</code>) within each combination of continent and year, saving them into <code>medianLifeExp</code> and <code>maxGdpPercap</code>, respectively.</li>
</ul>
<pre class="r"><code># Find median life expectancy and maximum GDP per capita in each continent/year combination
gapminder %&gt;%
  group_by(year, continent) %&gt;%
  summarize(medianLifeExp = median(lifeExp),
            maxGdpPercap = max(gdpPercap))</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;year&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 60 x 4
## # Groups:   year [12]
##     year continent medianLifeExp maxGdpPercap
##    &lt;int&gt; &lt;fct&gt;             &lt;dbl&gt;        &lt;dbl&gt;
##  1  1952 Africa             38.8        4725.
##  2  1952 Americas           54.7       13990.
##  3  1952 Asia               44.9      108382.
##  4  1952 Europe             65.9       14734.
##  5  1952 Oceania            69.3       10557.
##  6  1957 Africa             40.6        5487.
##  7  1957 Americas           56.1       14847.
##  8  1957 Asia               48.3      113523.
##  9  1957 Europe             67.6       17909.
## 10  1957 Oceania            70.3       12247.
## # … with 50 more rows</code></pre>
</div>
<div id="june-15th-2020" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> June 15th, 2020</h1>
<ul>
<li>Use the <code>by_year</code> dataset to create a scatter plot showing the change of median life expectancy over time, with year on the x-axis and <code>medianLifeExp</code> on the y-axis. Be sure to add <code>expand_limits(y = 0)</code> to make sure the plot’s y-axis includes zero.</li>
</ul>
<pre class="r"><code># Create a scatter plot showing the change in medianLifeExp over time
by_year %&gt;%
  ggplot(aes(x = year, y = medianLifeExp)) +
  geom_point() + expand_limits(y = 0)</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<ul>
<li>Summarize the <code>gapminder</code> dataset by continent and year, finding the median GDP per capita (<code>gdpPercap</code>) within each and putting it into a column called <code>medianGdpPercap</code>. Use the assignment operator <code>&lt;-</code> to save this summarized data as <code>by_year_continent</code>.</li>
</ul>
<pre><code>## `summarise()` has grouped output by &#39;continent&#39;. You can override using the `.groups` argument.</code></pre>
<ul>
<li>Create a scatter plot showing the change in <code>medianGdpPercap</code> by continent over time. Use color to distinguish between continents, and be sure to add <code>expand_limits(y = 0)</code> so that the y-axis starts at zero.</li>
</ul>
<pre class="r"><code># Plot the change in medianGdpPercap in each continent over time
ggplot(by_year_continent, aes(x = year, y = medianGdpPercap, color = continent)) +
  geom_point() + expand_limits(y = 0)</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<ul>
<li><p>Filter the gapminder dataset for the year 2007, then summarize the median GDP per capita and the median life expectancy **within each continent*, into columns called <code>medianLifeExp</code> and <code>medianGdpPercap</code>. Save this as <code>by_continent_2007</code>.</p></li>
<li><p>Use the <code>by_continent_2007</code> data to create a scatterplot comparing these summary statistics for continents in 2007, putting the median GDP per capita on the x-axis to the median life expectancy on the y-axis. Color the scatter plot by <code>continent.</code> You don<code>t need to add</code>expand_limits(y = 0)` for this plot.</p></li>
</ul>
<pre class="r"><code># Use a scatter plot to compare the median GDP and median life expectancy
ggplot(by_continent_2007, aes(x = medianGdpPercap, y = medianLifeExp, color = continent)) + geom_point()</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<div id="the-famous-hans-rosling-chart" class="section level2" number="4.1">
<h2 number="4.1"><span class="header-section-number">4.1</span> The famous “Hans Rosling chart”</h2>
<p><a href="https://www.ted.com/talks/hans_rosling_the_best_stats_you_ve_ever_seen#t-241405" class="uri">https://www.ted.com/talks/hans_rosling_the_best_stats_you_ve_ever_seen#t-241405</a></p>
<pre class="r"><code>#M1 &lt;- gvisMotionChart(Fruits, idvar=&quot;Fruit&quot;, timevar=&quot;Year&quot;)
#plot(M1)</code></pre>
<ul>
<li>Modify the command above to replicate</li>
</ul>
<blockquote>
<p>You’ve never seen data presented like this. With the drama and urgency of a sportscaster, statistics guru Hans Rosling debunks myths about the so-called “developing world.”</p>
</blockquote>
<p>Which continent has seen the largest absolute mean life expectancy increase from 1952 to 2007 ? (What is that number ?)</p>
<pre class="r"><code># filter(year %in% c(1952))
mlEbyCont1952 &lt;- gapminder %&gt;%
  filter(year == 1952) %&gt;%
  group_by(continent) %&gt;%
  summarise(mLE = mean(lifeExp, na.rm=TRUE))
mlEbyCont2007 &lt;- gapminder %&gt;%
  filter(year == 2007) %&gt;%
  group_by(continent) %&gt;%
  summarise(mLE = mean(lifeExp, na.rm=TRUE))

mlEbyCont &lt;- mlEbyCont2007$mLE - mlEbyCont1952$mLE
names(mlEbyCont) &lt;- mlEbyCont2007$continent 
round(mlEbyCont,2)</code></pre>
<pre><code>##   Africa Americas     Asia   Europe  Oceania 
##    15.67    20.33    24.41    13.24    11.46</code></pre>
<p>Which continent has seen the largest relative (percent) mean life expectancy increase from 1952 to 2007 ? (What is that number ?)</p>
<pre class="r"><code>mlEbyCont_rel &lt;- 100 * (mlEbyCont2007$mLE-mlEbyCont1952$mLE) / mlEbyCont2007$mLE
names(mlEbyCont_rel) &lt;- mlEbyCont2007$continent 
round(mlEbyCont_rel, 2)</code></pre>
<pre><code>##   Africa Americas     Asia   Europe  Oceania 
##    28.59    27.62    34.52    17.05    14.20</code></pre>
<p>Compute the mean life expectancy for all years from 1952 to 2007 and plot this number as a line plot. Upload an image (screenshot, …) on moodle.</p>
<pre class="r"><code>gapminder %&gt;%
  group_by(year) %&gt;%
  summarise(meanLifeExp = mean(lifeExp, na.rm=TRUE)) %&gt;%
  ggplot(aes(x = year, y = meanLifeExp)) + geom_line()</code></pre>
<p><img src="GapMinderExercises_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
